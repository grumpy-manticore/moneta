---
import { getCollection } from 'astro:content';
import BaseLayout from '~/modules/astro/base-layout.astro';
import {
  maxWidthContainer,
  noDecorationList,
  title,
} from '~/modules/styles/general.css';

const allPosts = await getCollection('posts');
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---

<BaseLayout title="Tags">
  <h1 class={title}>Tags</h1>
  <div class={maxWidthContainer}>
    <ul class={noDecorationList}>
      {
        tags.map((tag) => (
          <li>
            <a href={`/tags/${tag}`}>{tag}</a>
          </li>
        ))
      }
    </ul>
  </div>
</BaseLayout>
